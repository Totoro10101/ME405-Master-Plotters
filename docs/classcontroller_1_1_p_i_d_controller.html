<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: controller.PIDController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project
   </div>
   <div id="projectbrief">Pen plotter term project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcontroller_1_1_p_i_d_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcontroller_1_1_p_i_d_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">controller.PIDController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class implements a PID controller to run a pen plotter.  
 <a href="classcontroller_1_1_p_i_d_controller.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a28b44af1dbba1403a49ada11e8b34585"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_p_i_d_controller.html#a28b44af1dbba1403a49ada11e8b34585">__init__</a> (self, Kp, Ki, Kd, set_point, sensor_share1, sensor_share2)</td></tr>
<tr class="memdesc:a28b44af1dbba1403a49ada11e8b34585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a PID controller by initializing controller gains and storing the queue of setpoints and (2) shares with sensor data.  <a href="classcontroller_1_1_p_i_d_controller.html#a28b44af1dbba1403a49ada11e8b34585">More...</a><br /></td></tr>
<tr class="separator:a28b44af1dbba1403a49ada11e8b34585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18eca899009017225df784854ce08753"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_p_i_d_controller.html#a18eca899009017225df784854ce08753">run</a> (self, motorID)</td></tr>
<tr class="memdesc:a18eca899009017225df784854ce08753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the control algorithm.  <a href="classcontroller_1_1_p_i_d_controller.html#a18eca899009017225df784854ce08753">More...</a><br /></td></tr>
<tr class="separator:a18eca899009017225df784854ce08753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e514ae828cf94336f4a9a59336fc4e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_p_i_d_controller.html#a71e514ae828cf94336f4a9a59336fc4e">set_gains</a> (self, Kp, Ki, Kd)</td></tr>
<tr class="memdesc:a71e514ae828cf94336f4a9a59336fc4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the proportional gain controller value.  <a href="classcontroller_1_1_p_i_d_controller.html#a71e514ae828cf94336f4a9a59336fc4e">More...</a><br /></td></tr>
<tr class="separator:a71e514ae828cf94336f4a9a59336fc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5daa466c02062fbc5534077be99e5f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_p_i_d_controller.html#aaf5daa466c02062fbc5534077be99e5f">set_set_point</a> (self, set_point)</td></tr>
<tr class="memdesc:aaf5daa466c02062fbc5534077be99e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the desired setpoint for the step response.  <a href="classcontroller_1_1_p_i_d_controller.html#aaf5daa466c02062fbc5534077be99e5f">More...</a><br /></td></tr>
<tr class="separator:aaf5daa466c02062fbc5534077be99e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d5b0450ff79d9545b814d5f3368541"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontroller_1_1_p_i_d_controller.html#a56d5b0450ff79d9545b814d5f3368541">check_finish_step</a> (self)</td></tr>
<tr class="memdesc:a56d5b0450ff79d9545b814d5f3368541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if current set point has been reached by both motors.  <a href="classcontroller_1_1_p_i_d_controller.html#a56d5b0450ff79d9545b814d5f3368541">More...</a><br /></td></tr>
<tr class="separator:a56d5b0450ff79d9545b814d5f3368541"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class implements a PID controller to run a pen plotter. </p>
<p >It contains methods for calculating the actuation value and setting the Kp, Ki, and Kd gains. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a28b44af1dbba1403a49ada11e8b34585" name="a28b44af1dbba1403a49ada11e8b34585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b44af1dbba1403a49ada11e8b34585">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.PIDController.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>set_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sensor_share1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sensor_share2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a PID controller by initializing controller gains and storing the queue of setpoints and (2) shares with sensor data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>The proportional gain for the controller. Units of (dutyCycle/ticks) </td></tr>
    <tr><td class="paramname">Ki</td><td>The integral gain for the controller. Units of (dutyCycle/(ticks*seconds)) </td></tr>
    <tr><td class="paramname">Kd</td><td>The derivative gain for the controller. Units of (dutyCycle/(ticks/seconds)) </td></tr>
    <tr><td class="paramname">set_point</td><td>The initial setpoint value. <br  />
 </td></tr>
    <tr><td class="paramname">sensor_share1</td><td>A share that contains the read position from sensor 1 in a (2) sensor system with independently controlled actuators. </td></tr>
    <tr><td class="paramname">sensor_share2</td><td>A share that contains the read position from sensor 2 in a (2) sensor system with independently controlled actuators. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a56d5b0450ff79d9545b814d5f3368541" name="a56d5b0450ff79d9545b814d5f3368541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d5b0450ff79d9545b814d5f3368541">&#9670;&nbsp;</a></span>check_finish_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.PIDController.check_finish_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if current set point has been reached by both motors. </p>
<dl class="section return"><dt>Returns</dt><dd>a boolean is returned for if the setpoint has been reached. </dd></dl>

</div>
</div>
<a id="a18eca899009017225df784854ce08753" name="a18eca899009017225df784854ce08753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18eca899009017225df784854ce08753">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.PIDController.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>motorID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the control algorithm. </p>
<p >Reads the position data from a sensor and then finds the error between the actual position and the desired set point value. Then calculates the setpoint value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motorID</td><td>The motor that you are controlling. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actuation value to fix steady state error. When in the servo state, the actuation value is the servo pwm. If the actuation value is True, then the state changes to motor. When in the motor state, then actuation value is a tuple for motors (1, 2) of the duty cycle. If the actuation value is False, then the state changes to servo. </dd></dl>

</div>
</div>
<a id="a71e514ae828cf94336f4a9a59336fc4e" name="a71e514ae828cf94336f4a9a59336fc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e514ae828cf94336f4a9a59336fc4e">&#9670;&nbsp;</a></span>set_gains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.PIDController.set_gains </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the proportional gain controller value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>The proportional gain for the controller. Units of (dutyCycle/ticks) </td></tr>
    <tr><td class="paramname">Ki</td><td>The integral gain for the controller. Units of (dutyCycle/(ticks*seconds)) </td></tr>
    <tr><td class="paramname">Kd</td><td>The derivative gain for the controller. Units of (dutyCycle/(ticks/seconds)) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf5daa466c02062fbc5534077be99e5f" name="aaf5daa466c02062fbc5534077be99e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5daa466c02062fbc5534077be99e5f">&#9670;&nbsp;</a></span>set_set_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def controller.PIDController.set_set_point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>set_point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the desired setpoint for the step response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set_point</td><td>The desired steady state response value. It is in the form of a tuple (theta_1, theta_2, pen) in ticks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="controller_8py.html">controller.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>controller</b></li><li class="navelem"><a class="el" href="classcontroller_1_1_p_i_d_controller.html">PIDController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
