<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: Master Plotter: src/page_kinetics.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project: Master Plotter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page__kinetics_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">page_kinetics.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Page describing the transform used to convert from (x,y) to (theta_1, theta_2).  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Page describing the transform used to convert from (x,y) to (theta_1, theta_2). </p>
<pre class="fragment">@section sec_report Term Project
    As shown in the sketch below, the drawing area is defined such that the
    fully extended radius of each motor reaches the far corner of the drawing
    area. This forces the "zeroed" position of the carriage to be beyond the
    drawing area.

    Our transform is based off of the top left corner of the drawing area.
    For the described "zeroed" position and an assumed 4 in x 6 in drawing area,
    the location of the "home" position (the top left corner) is given as
    x_home = 80.7 mm and y_home = 122.676 mm. 

    \image html homePosition.png width=50% \n

    At this point, if we treat each radius as the hypotenuse of a right triangle,
    where the (y_home + y) position is the height of the triange, and the
    (x_home + x) is the base of the triangle for the right triangle, and
    (R - (x_home + x)) is the base of the second triangle when R is the distance
    between the two motors, then we can compute the new radii using the
    pythagorean theorem:
        - r_1 = ((y_home + y)**2 + (R - (x_home + x))**2)**0.5
        - r_2 = ((y_home + y)**2 + (x_home + x)**2)**0.5

    From here, we know that the belt length per revolution is:
        r = 16 [teeth] * 2 [mm/tooth] = 32mm
    We also know that the encoder pulses (ticks) per revolution is:
        ppr =     256 [counts per revolution]
                * 4   [pulses per count for quadrature encoders]
                * 16  [16:1 gear ratio]
    Therefore we have the ticks per mm ratio as:
        ppr / r = 512 [ticks/mm]

    So we have the final output (theta_1, theta_2) in ticks:
        th1 = int(TICKS_PER_MM * r_1)
        th2 = int(TICKS_PER_MM * r_2)
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="page__kinetics_8py.html">page_kinetics.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
