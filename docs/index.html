<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: Master Plotter: ME 405 Term Project: Master Plotter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project: Master Plotter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">ME 405 Term Project: Master Plotter </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec_intro"></a>
Introduction</h1>
<p >This is the documentation site for Tori Bornino, Jackson Mclaughlin, and Zachary Stednitz's code used in ME 405 - Mechatronics, Term Project: It's a Plot <br  />
 Implementation, taught in Winter 2022 by Dr. John Ridgely. Source code is available at: <a href="https://github.com/Totoro10101/ME405-Master-Plotters">https://github.com/Totoro10101/ME405-Master-Plotters</a></p>
<h1><a class="anchor" id="sec_sch"></a>
Software Design</h1>
<p >Before the pen plotter draws the given image, the plotter is zeroed and the given HPGL is parsed.</p>
<p >During general operation the pen plotter has two main tasks: encoder and controller. The encoders running consecutively read the motor positions and the controller uses the positions to controll the motors. The desired plotter position is loaded during startup. </p><div class="image">
<img src="task_diagram.jpg" alt="" width="50%"/>
</div>
<h2><a class="anchor" id="subsec_sch1"></a>
Startup</h2>
<p >Before the pen plotter plots the drawing, it will zero its position. Zeroing the encoder is important to ensuring we start plotting the given image at a known location. It utilizes two limit switches to determine the carriage zero point where the plotter carriage is completely extended.</p>
<div class="image">
<img src="task_startup_FSM.jpg" alt="" width="25%"/>
</div>
<h2><a class="anchor" id="subsec_sch2"></a>
task_parser</h2>
<p >Parses the HPGL file for a given image outputting the required pen locations in ticks and pen states to construct the drawing. These include "pen advance" and lifting the pen off of the paper when not plotting. Parser task doesn't require a finite state machine since it's only purpose is to read the HPGL data and doesn't transition to any other state. However, the kinematic equations used in the derivation of the transition are further explained in the <a class="el" href="page_kinetics.html">Kinematic Derivations</a> page.</p>
<h2><a class="anchor" id="subsec_sch3"></a>
task_encoder</h2>
<p >Reads the position of the encoder on each motor and stores them in a share. This task does not require a finite state machine since it is only reading the position of the motor and the zeroing takes place in the startup task.</p>
<h2><a class="anchor" id="subsec_sch4"></a>
task_controller</h2>
<p >Controls the motor duty cycle and servo position based on set points stored in the <br  />
 set point queues. The controller task has two states: Motor and Servo. When a new set point is loaded, the pen condition is checked, and corrected, before transitioning back to the motor state until the next desired position is reached. The controller driver uses PID closed loop control to set the motor duty cycle and move the pen to the desired location.</p>
<div class="image">
<img src="task_controller_FSM.jpg" alt="" width="30%"/>
</div>
<dl class="section author"><dt>Author</dt><dd>Tori Bornino </dd>
<dd>
Jackson McLaughlin </dd>
<dd>
Zach Stednitz </dd></dl>
<dl class="section date"><dt>Date</dt><dd>March 15, 2022 </dd></dl>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
